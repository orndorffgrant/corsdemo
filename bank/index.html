<html lang="en">
  <head>
    <title>Money</title>
  </head>
  <body>
    <h1>My Real Bank</h1>
    <h2>Use this to transfer money:</h2>
    <label>Recipient</label>
    <input id="to" />
    <label>How Much?</label>
    <input id="howMuch" type="number"/>
    <button id="transfer">Transfer</button>
    <div id="success"></div>
    <script>
      const to = document.getElementById('to')
      const howMuch = document.getElementById('howMuch')
      document.getElementById('transfer').onclick = () => {
        fetch('http://api.myrealbank.com/transfer', {
          method: 'post',
          credentials: 'include',
          body: JSON.stringify({
            to: to.value,
            howMuch: howMuch.value,
          }),
          headers: {
            'Content-Type': 'application/json',
          },
        }).then((res) => {
          if (res.ok) {
            to.value = ''
            howMuch.value = ''
            document.getElementById('success').innerHTML = '<h3>Success!</h3>'
          } else {
            document.getElementById('success').innerHTML = '<h3>Error!</h3>'
          }
        }).catch((err) => {
          document.getElementById('success').innerHTML = '<h3>Error!</h3>'
        })
      }
    </script>
  </body>
</html>
